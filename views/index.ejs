<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
			integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

		<link rel="stylesheet" href="table-sortable.css" />
		<link rel="stylesheet" href="/main.css">
		<style>
			#searchField {
				background-image: url('/public/images/searchicon.png');
				background-position: 10px 10px;
				background-repeat: no-repeat;
				width: 100%;
				font-size: 16px;
				padding: 12px 20px 12px 40px;
				border: 1px solid #ddd;
				margin-bottom: 12px;
			}

			#prevButton,
			#nextButton,
			#sortButton {
				height: 55px;
				width: 100%;
				color: #000000;
				font-size: 1rem;
				font-weight: 400;
				margin-top: 30px;
				border: none;
				cursor: pointer;
				transition: all 0.2s ease;
				background-color: #ffffff;
				border: 2px solid black;
			}

			#prevButton:hover,
			#nextButton:hover,
			#sortButton:hover {
				background: #efefef;
			}

			.column {
				display: flex;
				column-gap: 15px;
			}
		</style>
		<title>Home</title>
	</head>

	<body>


		<header>
			<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e2eaf2;">
				<div class="container-fluid">
					<b><a class="navbar-brand" href="#">CRUD APPLICATION</a></b>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
						data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
						aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav d-flex flex-row ms-auto me-3">
							<li class="nav-item">
								<a class="nav-link" href="/dashboard">Dashboard</i></a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/create">Add User <i class="fa-solid fa-user-plus"></i></a>
							</li>
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
									data-bs-toggle="dropdown" aria-expanded="false">
									<i class="fa-solid fa-user"></i>
								</a>
								<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
									<li><a class="dropdown-item" href="/">Logout</a></li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>
		<main>
			<div class="container" style="padding-top: 50px;">
				<div class="column">
					<input type="text" placeholder="Search in table..." id="searchField" onkeyup="myFunction()">
				</div>
				<div class="table-responsive">
					<table class="table table-striped mb-0" id="studTable">
						<thead style="background-color: #191818;">
							<tr>
								<!-- <th scope="col">ID</th> -->
								<th scope="col">Name</th>
								<th scope="col">Birthdate</th>
								<th scope="col">Gender</th>
								<th scope="col">Civil Status</th>
								<th scope="col">Country</th>
								<th scope="col">Hobbies</th>
								<th scope="col">Actions</th>
							</tr>
						</thead>
						<tbody>
							<% allstudents.forEach((student)=> {%>
								<tr style="text-align: center; vertical-align: middle;">
									<td>
										<%= student.firstname %>
											<%= student.middlename %>
												<%= student.lastname %>
									</td>
									<td>
										<%= student.birthdate %>
									</td>
									<td>
										<%= student.gender %>
									</td>
									<td>
										<%= student.civilstatus %>
									</td>
									<td>
										<%= student.country %>
									</td>
									<td>
										<%= student.hobbies %>
									</td>
									<td class="d-flex flex-row justify-content-center gap-2">
										<a href="/view/<%= student.id %>"><button class="btn btn-basic"><i
													class="fa-solid fa-eye"></i></button></a>
										<% if (userlevel==='Manager' || userlevel==='Admin' ) { %>
											<a href="/edit/<%= student.id %>"><button class="btn btn-basic"><i
														class="fa-solid fa-pen-to-square"></i></button></a>
											<% } %>
												<% if (userlevel==='Admin' ) { %>
													<form action="/delete/<%= student.id %>" method="post">
														<button type="submit" class="btn btn-basic"><i
																class="fa-solid fa-square-minus"></i></i></button>
													</form>
													<% } %>
									</td>

						</tbody>
						</tr>
						<% }) %>
					</table>
				</div>


				<div class="column">
					<button id="prevButton">Previous</button>
					<button id="nextButton">Next</button>
				</div>
				<br>
			</div>
			</div>
			</div>
			</div>
			</div>
			</div>
			</div>
			</div>
		</main>
		<footer class="bg-dark text-light">
			<div class="container py-4">
				<div class="row">
					<div class="col-md-6">
						<h5>Final Project in</h5>
						<p>CBS402A and CITE007A</p>
					</div>
					<div class="col-md-6">
						<h5>Contact Us</h5>
						<ul class="list-unstyled">
							<li>Email: mjcrico@tip.edu.ph</li>
							<li>Email: mlaoseo@tip.edu.ph</li>
							<li>Email: mmcramos@tip.edu.ph</li>
							<li>Email: mceapastrana@tip.edu.ph</li>
						</ul>
					</div>
				</div>
				<hr>
				<p style="text-align: center;">Â© 2023 Technological Institute of the Philippines. <br>All rights
					reserved.</p>

			</div>
		</footer>
	</body>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
		crossorigin="anonymous"></script>
	<script src="https://kit.fontawesome.com/95d293833b.js" crossorigin="anonymous"></script>
	<script src="/path/to/cdn/jquery.min.js"></script>
	<script src="/path/to/table-pagination.js"></script>

	<script>

		function myFunction() {
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("searchField");
			filter = input.value.toUpperCase();
			table = document.getElementById("studTable");
			tr = table.getElementsByTagName("tr");
			for (i = 0; i < tr.length; i++) {
				td = tr[i].getElementsByTagName("td")[0];
				if (td) {
					txtValue = td.textContent || td.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}     
	</script>

</html>